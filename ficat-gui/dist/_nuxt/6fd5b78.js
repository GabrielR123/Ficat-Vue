(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{401:function(t,e,n){var content=n(447);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(29).default)("762c440e",content,!0,{sourceMap:!1})},446:function(t,e,n){"use strict";n(401)},447:function(t,e,n){var r=n(28)(!1);r.push([t.i,".vcenter[data-v-0fd03a7e]{display:flex;align-items:center}.wrapper[data-v-0fd03a7e]{flex:1 0 auto;margin:auto}.input-float[data-v-0fd03a7e]{margin:auto;height:100%;display:flex;flex-direction:column;justify-content:space-evenly}.with-margin[data-v-0fd03a7e]{margin:auto .5em}.flex-submit[data-v-0fd03a7e]{display:flex;align-items:center;justify-content:space-between;margin:.5em}",""]),t.exports=r},518:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(45),n(24),n(25),n(225)),l=n(226),c=n(253),m=n(254),d={name:"Talk",components:{Card:l.a,InputValidation:c.a,WithTooltip:m.a},mixins:[{methods:{handle:function(t){var e=t.response;this.$buefy.toast.open({duration:1e3,message:e.data.code,type:"is-danger"})}}}],data:function(){return{name:"",email:"",fone:"",msg:"",touchedCaptcha:!1,captchaHasError:!1,captchaHasExpired:!1,loading:!1}},computed:{disabled:function(){return this.$v.$invalid||!this.touchedCaptcha||this.captchaHasError||this.captchaHasExpired}},methods:{onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,l,c,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$v.$touch(),!t.$v.$invalid){e.next=12;break}n=Object.keys(t.$options.validations),o=0,l=n;case 4:if(!(o<l.length)){e.next=12;break}if(c=l[o],!t.$v[c].$error){e.next=9;break}return t.$refs[c].focus(),e.abrupt("break",12);case 9:o++,e.next=4;break;case 12:return t.loading=!0,e.next=15,t.$recaptcha.getResponse();case 15:return m=e.sent,e.next=18,t.$axios.get("/api/captcha",{params:{token:m}});case 18:if(e.sent){e.next=21;break}return e.abrupt("return");case 21:(d=new FormData).append("name",t.name),d.append("email",t.email),d.append("fone",t.fone),d.append("msg",t.msg),t.$axios.post("/api/send",d,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.toast(),e.next=3,t.resetState();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(t.handle);case 27:case"end":return e.stop()}}),e)})))()},toast:function(){this.$buefy.toast.open("Mensagem enviada com sucesso")},resetState:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.assign(t.$data,{name:"",email:"",fone:"",msg:"",touchedCaptcha:!1,captchaHasError:!1,captchaHasExpired:!1,loading:!1}),t.$v.$reset(),e.next=4,t.$recaptcha.reset();case 4:case"end":return e.stop()}}),e)})))()},onSomeError:function(t){var data="exp"===t?"captchaHasExpired":"captchaHasError";this.$set(this.$data,data,!0)},onSuccess:function(){this.touchedCaptcha=!0,this.captchaHasError=!1,this.captchaHasExpired=!1}},validations:{name:{required:o.required,minLength:Object(o.minLength)(7)},email:{required:o.required,email:o.email,minLength:Object(o.minLength)(7)},fone:{required:o.required,pattern:function(t){return/^\+?[0-9]+$/.test(t)},minLength:Object(o.minLength)(3)},msg:{required:o.required,minLength:Object(o.minLength)(20),maxLength:Object(o.maxLength)(240)}}},f=(n(446),n(17)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section vcenter"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-10"},[n("Card",{attrs:{title:t.$tr("layout.talkToUs")}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-half"},[n("div",{staticClass:"input-float"},[n("input-validation",{ref:"name",attrs:{validations:t.$options.validations.name,v:t.$v,label:t.$tr("layout.talkFormName"),"tooltip-label":t.$tr("layout.talkFormNameTooltip"),"field-name":"name"},scopedSlots:t._u([{key:"required",fn:function(){return[t._v("\n                      "+t._s(t.$tr("layout.required"))+"\n                    ")]},proxy:!0},{key:"minLength",fn:function(e){var n=e.min;return[t._v("\n                      "+t._s(t.$tr("layout.minLength",[n]))+"\n                    ")]}}]),model:{value:t.$v.name.$model,callback:function(e){t.$set(t.$v.name,"$model",e)},expression:"$v.name.$model"}}),t._v(" "),n("input-validation",{ref:"email",attrs:{validations:t.$options.validations.email,v:t.$v,label:t.$tr("layout.talkFormEmail"),"tooltip-label":t.$tr("layout.talkFormEmailTooltip"),"field-name":"email"},on:{blur:t.$v.email.$touch},scopedSlots:t._u([{key:"required",fn:function(){return[t._v("\n                      "+t._s(t.$tr("layout.required"))+"\n                    ")]},proxy:!0},{key:"minLength",fn:function(e){var n=e.min;return[t._v("\n                      "+t._s(t.$tr("layout.minLength",[n]))+"\n                    ")]}},{key:"email",fn:function(){return[t._v("\n                      "+t._s(t.$tr("layout.invalidEmail"))+"\n                    ")]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email="string"==typeof e?e.trim():e},expression:"email"}}),t._v(" "),n("input-validation",{ref:"fone",attrs:{validations:t.$options.validations.fone,v:t.$v,label:t.$tr("layout.talkFormPhone"),"tooltip-label":t.$tr("layout.talkFormPhoneTooltip"),"field-name":"fone"},scopedSlots:t._u([{key:"required",fn:function(){return[t._v("\n                      "+t._s(t.$tr("layout.required"))+"\n                    ")]},proxy:!0},{key:"minLength",fn:function(e){var n=e.min;return[t._v("\n                      "+t._s(t.$tr("layout.minLength",[n]))+"\n                    ")]}},{key:"pattern",fn:function(){return[t._v("\n                      "+t._s(t.$tr("layout.numbersOnly"))+"\n                    ")]},proxy:!0},{key:"message",fn:function(){return[t._v("\n                      "+t._s(t.$tr("layout.internationalNumber"))+"\n                    ")]},proxy:!0}]),model:{value:t.$v.fone.$model,callback:function(e){t.$set(t.$v.fone,"$model",e)},expression:"$v.fone.$model"}})],1)]),t._v(" "),n("div",{staticClass:"column is-center is-half"},[n("input-validation",{ref:"msg",attrs:{validations:t.$options.validations.msg,v:t.$v,label:t.$tr("layout.talkFormMessage"),"tooltip-label":t.$tr("layout.talkFormMessageTooltip"),"field-name":"msg",type:"textarea"},scopedSlots:t._u([{key:"required",fn:function(){return[t._v("\n                    "+t._s(t.$tr("layout.required"))+"\n                  ")]},proxy:!0},{key:"minLength",fn:function(e){var n=e.min;return[t._v("\n                    "+t._s(t.$tr("layout.minLength",[n]))+"\n                  ")]}}]),model:{value:t.$v.msg.$model,callback:function(e){t.$set(t.$v.msg,"$model",e)},expression:"$v.msg.$model"}}),t._v(" "),n("div",{staticClass:"flex-submit"},[n("WithTooltip",{attrs:{text:t.$tr("layout.solveCaptcha")}},[n("div",{staticStyle:{margin:"auto"}},[n("recaptcha",{on:{success:t.onSuccess,error:function(e){return t.onSomeError("error")},expired:function(e){return t.onSomeError("exp")}}})],1)]),t._v(" "),n("WithTooltip",{attrs:{text:t.$tr("layout.submitBtnTooltip")}},[n("b-button",{staticClass:"is-success",attrs:{disabled:t.disabled,loading:t.loading,rounded:"","native-type":"submit"}},[t._v("\n                      "+t._s(t.$tr("layout.submitBtn"))+"\n                    ")])],1)],1)],1)])])])],1)])])])}),[],!1,null,"0fd03a7e",null);e.default=component.exports}}]);